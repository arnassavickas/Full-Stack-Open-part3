{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/PersonList.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","setRegex","onChange","event","RegExp","target","value","PersonForm","handleSubmit","handleChangeName","handleChangeNumber","newName","newNumber","onSubmit","type","Person","person","deletePerson","name","number","onClick","id","PersonList","persons","regex","filteredList","filter","test","map","baseUrl","exports","getAll","axios","get","then","response","data","create","newObject","post","delete","updatePerson","changedPerson","put","Notification","notification","text","style","backgroundColor","border","color","padding","marginBottom","borderRadius","fontSize","fontFamily","App","useState","setPersons","setNewName","setNewNumber","setNotification","useEffect","personService","personArray","showNotification","hideNotificatonIn","time","setTimeout","preventDefault","findPerson","find","toLowerCase","console","log","undefined","window","confirm","updatedPerson","updatedPersonServer","catch","error","personObject","createdPerson","hot","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9d03dc7f.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = ({ setRegex }) => {\r\n  const handleChangeFilter = (event) => {\r\n    setRegex(new RegExp(event.target.value, 'i'));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      filter shown with <input onChange={handleChangeFilter} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\n\r\nconst PersonForm = ({\r\n  handleSubmit,\r\n  handleChangeName,\r\n  handleChangeNumber,\r\n  newName,\r\n  newNumber,\r\n}) => (\r\n  <form onSubmit={handleSubmit}>\r\n    <div>\r\n      name: <input onChange={handleChangeName} value={newName} />\r\n    </div>\r\n    <div>\r\n      number: <input onChange={handleChangeNumber} value={newNumber} />\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\">add</button>\r\n    </div>\r\n  </form>\r\n);\r\n\r\nexport default PersonForm;\r\n","import React from \"react\";\r\n\r\nconst Person = ({ person, deletePerson }) => {\r\n  return (\r\n    <tr key={person.name}>\r\n      <td>{person.name}</td>\r\n      <td>{person.number}</td>\r\n      <td>\r\n        <button onClick={() => deletePerson(person.name, person.id)}>delete</button>\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default Person;\r\n","import React from \"react\";\r\nimport Person from \"./Person\";\r\n\r\nconst PersonList = ({ persons, regex, deletePerson }) => {\r\n  const filteredList = persons.filter((person) => {\r\n    return regex.test(person.name);\r\n  });\r\n\r\n  return (\r\n    <table>\r\n      <tbody>\r\n        {filteredList.map((person) => (\r\n          <Person key={person.name} person={person} deletePerson={deletePerson} />\r\n        ))}\r\n      </tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default PersonList;\r\n","import axios from \"axios\";\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst deletePerson = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request;\r\n};\r\n\r\nconst updatePerson = (changedPerson) => {\r\n  const request = axios.put(`${baseUrl}/${changedPerson.id}`, changedPerson);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst exports = { getAll, create, deletePerson, updatePerson };\r\n\r\nexport default exports;\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ notification }) => {\r\n  if (notification.text === null) {\r\n    return null;\r\n  }\r\n  return (\r\n    <div\r\n      style={{\r\n        backgroundColor: \"#DDDDDD\",\r\n        border: `1px solid ${notification.color}`,\r\n        padding: 10,\r\n        marginBottom: \"1rem\",\r\n        borderRadius: 10,\r\n        fontSize: 20,\r\n        fontFamily: \"monospace\",\r\n        color: notification.color,\r\n      }}\r\n    >\r\n      {notification.text}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Filter from \"./components/Filter\";\r\nimport PersonForm from \"./components/PersonForm\";\r\nimport PersonList from \"./components/PersonList\";\r\nimport personService from \"./services/persons\";\r\nimport Notification from \"./components/Notification\";\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([{ name: \"loading\", number: \"data\" }]);\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n  const [regex, setRegex] = useState(new RegExp(\"\", \"i\"));\r\n  const [notification, setNotification] = useState({ text: null, color: null });\r\n\r\n  useEffect(() => {\r\n    personService.getAll().then((personArray) => {\r\n      setPersons(personArray);\r\n    });\r\n  }, []);\r\n\r\n  const handleChangeName = (event) => {\r\n    setNewName(event.target.value);\r\n  };\r\n  const handleChangeNumber = (event) => {\r\n    setNewNumber(event.target.value);\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const findPerson = persons.find(\r\n      (person) => person.name.toLowerCase() === newName.toLowerCase()\r\n    );\r\n    console.log(findPerson);\r\n    if (findPerson !== undefined) {\r\n      const confirmation = window.confirm(\r\n        `${newName} is already added to phonebook replace the old number wit a new one?`\r\n      );\r\n      if (confirmation) {\r\n        const updatedPerson = { ...findPerson, number: newNumber };\r\n        personService\r\n          .updatePerson(updatedPerson)\r\n          .then((updatedPersonServer) => {\r\n            setPersons(\r\n              persons.map((person) =>\r\n                person === findPerson ? updatedPersonServer : person\r\n              )\r\n            );\r\n          })\r\n          .catch((error) => {\r\n            console.log(error.response.data.error);\r\n            showNotification(`${error.response.data.error}`, \"red\");\r\n            hideNotificatonIn(4000);\r\n          });\r\n      }\r\n    } else {\r\n      const personObject = {\r\n        name: newName,\r\n        number: newNumber,\r\n      };\r\n      personService\r\n        .create(personObject)\r\n        .then((createdPerson) => {\r\n          showNotification(`${createdPerson.name} was added`, \"green\");\r\n          /*\r\n          setNotification({\r\n            text: `${createdPerson.name} was added`,\r\n            color: \"green\",\r\n          });\r\n           */\r\n          setPersons([...persons, createdPerson]);\r\n          setNewName(\"\");\r\n          setNewNumber(\"\");\r\n        })\r\n        .catch((error) => {\r\n          console.log(error.response.data);\r\n          showNotification(`${error.response.data.error}`, \"red\");\r\n          /* setNotification({\r\n            text: `${error.response.data.error}`,\r\n            color: \"red\",\r\n          }); */\r\n          hideNotificatonIn(4000);\r\n          /* setTimeout(() => {\r\n            setNotification({ text: null, color: null });\r\n          }, 4000); */\r\n        });\r\n      hideNotificatonIn(4000);\r\n\r\n      /*\r\n      setTimeout(() => {\r\n        setNotification({ text: null, color: null });\r\n      }, 4000); */\r\n    }\r\n  };\r\n\r\n  const handleDelete = (name, id) => {\r\n    const confirmation = window.confirm(`Delete ${name}?`);\r\n    if (confirmation) {\r\n      personService\r\n        .deletePerson(id)\r\n        .then((response) => {\r\n          showNotification(\r\n            `${name} was successfully removed from the server`,\r\n            \"green\"\r\n          );\r\n          /*\r\n          setNotification({\r\n            text: `${name} was successfully removed from the server`,\r\n            color: \"green\",\r\n          });\r\n */\r\n        })\r\n        .catch((error) => {\r\n          showNotification(\r\n            `Information of ${name} has already been removed from the server`,\r\n            \"red\"\r\n          );\r\n          /*\r\n          setNotification({\r\n            text: `Information of ${name} has already been removed from the server`,\r\n            color: \"red\",\r\n          }); */\r\n        });\r\n      setTimeout(() => {\r\n        setNotification({ text: null, color: null });\r\n      }, 4000);\r\n      setPersons(persons.filter((person) => person.id !== id));\r\n\r\n      console.log(\"here\");\r\n    }\r\n  };\r\n\r\n  const showNotification = (text, color) => {\r\n    setNotification({\r\n      text,\r\n      color,\r\n    });\r\n  };\r\n\r\n  const hideNotificatonIn = (time) => {\r\n    setTimeout(() => {\r\n      setNotification({ text: null, color: null });\r\n    }, time);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Phonebook</h1>\r\n      <Notification notification={notification} />\r\n      <Filter setRegex={setRegex} />\r\n      <h2>add a new</h2>\r\n      <PersonForm\r\n        handleSubmit={handleSubmit}\r\n        handleChangeName={handleChangeName}\r\n        handleChangeNumber={handleChangeNumber}\r\n        newName={newName}\r\n        newNumber={newNumber}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <PersonList persons={persons} regex={regex} deletePerson={handleDelete} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import \"react-hot-loader\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { hot } from \"react-hot-loader/root\";\nimport App from \"./App\";\n\n\nexport default hot(App);\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}